<div class="card shadow-sm mb-4">
	<div class="card-body p-4">
		<div class="d-flex mb-3">
			{% if app.user.profilePicture %}
				<img src="{{ vich_uploader_asset(app.user, 'profilePictureFile') }}" alt="Profile" class="post-author-avatar">
			{% else %}
				<div class="post-author-avatar-placeholder">
					{{ app.user.firstName|first|upper }}{{ app.user.lastName|first|upper }}
				</div>
			{% endif %}
			<div class="ms-3 flex-grow-1">
				<textarea class="form-control border-0 shadow-none" rows="3" placeholder="What's on your mind?" style="font-size: 1rem; resize: none;"></textarea>
			</div>
		</div>

		<div id="imagePreview" class="mb-3 d-none">
			<div class="position-relative">
				<img src="" class="rounded img-fluid" style="max-height: 300px; width: 100%; object-fit: cover;">
				<button class="btn-remove-image" onclick="removeNewImage()">
					<i class="fas fa-times"></i>
				</button>
			</div>
		</div>

		<div class="d-flex justify-content-between align-items-center">
			<div class="d-flex gap-2">
				<button class="btn btn-light btn-sm rounded-circle" onclick="triggerImageUpload()">
					<i class="fas fa-image"></i>
				</button>
				<input type="file" id="imageInput" accept="image/*" style="display: none;" onchange="handleImageUpload(this)">
			</div>
			<button class="btn btn-gradient" onclick="createPost()">
				Post
			</button>
		</div>
	</div>
</div>
